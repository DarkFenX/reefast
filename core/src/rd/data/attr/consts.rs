use itertools::Itertools;

use crate::{ad::AAttrId, rd::RAttrId, util::RMap};

#[derive(Clone)]
pub(crate) struct RAttrConsts {
    pub(crate) activation_blocked: Option<RAttrId>,
    pub(crate) agility: Option<RAttrId>,
    pub(crate) allow_in_fully_corrupted_hisec: Option<RAttrId>,
    pub(crate) allow_in_fully_corrupted_lowsec: Option<RAttrId>,
    pub(crate) allowed_drone_group1: Option<RAttrId>,
    pub(crate) allowed_drone_group2: Option<RAttrId>,
    pub(crate) aoe_cloud_size: Option<RAttrId>,
    pub(crate) aoe_dmg_reduction_factor: Option<RAttrId>,
    pub(crate) aoe_velocity: Option<RAttrId>,
    pub(crate) armor_dmg_amount: Option<RAttrId>,
    pub(crate) armor_em_dmg_resonance: Option<RAttrId>,
    pub(crate) armor_expl_dmg_resonance: Option<RAttrId>,
    pub(crate) armor_hp: Option<RAttrId>,
    pub(crate) armor_kin_dmg_resonance: Option<RAttrId>,
    pub(crate) armor_therm_dmg_resonance: Option<RAttrId>,
    pub(crate) boosterness: Option<RAttrId>,
    pub(crate) can_fit_ship_group1: Option<RAttrId>,
    pub(crate) can_fit_ship_group2: Option<RAttrId>,
    pub(crate) can_fit_ship_group3: Option<RAttrId>,
    pub(crate) can_fit_ship_group4: Option<RAttrId>,
    pub(crate) can_fit_ship_group5: Option<RAttrId>,
    pub(crate) can_fit_ship_group6: Option<RAttrId>,
    pub(crate) can_fit_ship_group7: Option<RAttrId>,
    pub(crate) can_fit_ship_group8: Option<RAttrId>,
    pub(crate) can_fit_ship_group9: Option<RAttrId>,
    pub(crate) can_fit_ship_group10: Option<RAttrId>,
    pub(crate) can_fit_ship_group11: Option<RAttrId>,
    pub(crate) can_fit_ship_group12: Option<RAttrId>,
    pub(crate) can_fit_ship_group13: Option<RAttrId>,
    pub(crate) can_fit_ship_group14: Option<RAttrId>,
    pub(crate) can_fit_ship_group15: Option<RAttrId>,
    pub(crate) can_fit_ship_group16: Option<RAttrId>,
    pub(crate) can_fit_ship_group17: Option<RAttrId>,
    pub(crate) can_fit_ship_group18: Option<RAttrId>,
    pub(crate) can_fit_ship_group19: Option<RAttrId>,
    pub(crate) can_fit_ship_group20: Option<RAttrId>,
    pub(crate) can_fit_ship_type1: Option<RAttrId>,
    pub(crate) can_fit_ship_type2: Option<RAttrId>,
    pub(crate) can_fit_ship_type3: Option<RAttrId>,
    pub(crate) can_fit_ship_type4: Option<RAttrId>,
    pub(crate) can_fit_ship_type5: Option<RAttrId>,
    pub(crate) can_fit_ship_type6: Option<RAttrId>,
    pub(crate) can_fit_ship_type7: Option<RAttrId>,
    pub(crate) can_fit_ship_type8: Option<RAttrId>,
    pub(crate) can_fit_ship_type9: Option<RAttrId>,
    pub(crate) can_fit_ship_type10: Option<RAttrId>,
    pub(crate) can_fit_ship_type11: Option<RAttrId>,
    pub(crate) can_fit_ship_type12: Option<RAttrId>,
    pub(crate) capacitor_bonus: Option<RAttrId>,
    pub(crate) capacitor_capacity: Option<RAttrId>,
    pub(crate) capacity: Option<RAttrId>,
    pub(crate) charge_group1: Option<RAttrId>,
    pub(crate) charge_group2: Option<RAttrId>,
    pub(crate) charge_group3: Option<RAttrId>,
    pub(crate) charge_group4: Option<RAttrId>,
    pub(crate) charge_group5: Option<RAttrId>,
    pub(crate) charge_rate: Option<RAttrId>,
    pub(crate) charge_size: Option<RAttrId>,
    pub(crate) charged_armor_dmg_mult: Option<RAttrId>,
    pub(crate) cpu: Option<RAttrId>,
    pub(crate) cpu_output: Option<RAttrId>,
    pub(crate) crystal_volatility_chance: Option<RAttrId>,
    pub(crate) crystal_volatility_dmg: Option<RAttrId>,
    pub(crate) crystals_get_damaged: Option<RAttrId>,
    pub(crate) disallow_assistance: Option<RAttrId>,
    pub(crate) disallow_docking: Option<RAttrId>,
    pub(crate) disallow_drive_jumping: Option<RAttrId>,
    pub(crate) disallow_in_empire_space: Option<RAttrId>,
    pub(crate) disallow_in_hazard: Option<RAttrId>,
    pub(crate) disallow_in_hisec: Option<RAttrId>,
    pub(crate) disallow_offensive_modifiers: Option<RAttrId>,
    pub(crate) disallow_tethering: Option<RAttrId>,
    pub(crate) disallow_vs_ew_immune_tgt: Option<RAttrId>,
    pub(crate) disallow_warping_jumping: Option<RAttrId>,
    pub(crate) dmg_delay_duration: Option<RAttrId>,
    pub(crate) dmg_mult: Option<RAttrId>,
    pub(crate) doomsday_aoe_duration: Option<RAttrId>,
    pub(crate) doomsday_aoe_range: Option<RAttrId>,
    pub(crate) doomsday_aoe_sig_radius: Option<RAttrId>,
    pub(crate) doomsday_dmg_cycle_time: Option<RAttrId>,
    pub(crate) doomsday_dmg_duration: Option<RAttrId>,
    pub(crate) doomsday_energy_neut_amount: Option<RAttrId>,
    pub(crate) doomsday_energy_neut_radius: Option<RAttrId>,
    pub(crate) doomsday_energy_neut_sig_radius: Option<RAttrId>,
    pub(crate) doomsday_warning_duration: Option<RAttrId>,
    pub(crate) dot_duration: Option<RAttrId>,
    pub(crate) dot_max_dmg_per_tick: Option<RAttrId>,
    pub(crate) dot_max_hp_perc_per_tick: Option<RAttrId>,
    pub(crate) drone_bandwidth: Option<RAttrId>,
    pub(crate) drone_bandwidth_used: Option<RAttrId>,
    pub(crate) drone_capacity: Option<RAttrId>,
    pub(crate) drone_control_distance: Option<RAttrId>,
    pub(crate) ecm_jam_duration: Option<RAttrId>,
    pub(crate) em_dmg: Option<RAttrId>,
    pub(crate) em_dmg_resonance: Option<RAttrId>,
    pub(crate) emp_field_range: Option<RAttrId>,
    pub(crate) energy_neut_amount: Option<RAttrId>,
    pub(crate) energy_neut_sig_resolution: Option<RAttrId>,
    pub(crate) energy_warfare_resist: Option<RAttrId>,
    pub(crate) entity_cruise_speed: Option<RAttrId>,
    pub(crate) entity_max_velocity_sig_radius_mult: Option<RAttrId>,
    pub(crate) expl_dmg: Option<RAttrId>,
    pub(crate) expl_dmg_resonance: Option<RAttrId>,
    pub(crate) explosion_delay: Option<RAttrId>,
    pub(crate) fits_to_ship_type: Option<RAttrId>,
    pub(crate) ftr_capacity: Option<RAttrId>,
    pub(crate) ftr_heavy_slots: Option<RAttrId>,
    pub(crate) ftr_light_slots: Option<RAttrId>,
    pub(crate) ftr_refueling_time: Option<RAttrId>,
    pub(crate) ftr_sq_is_heavy: Option<RAttrId>,
    pub(crate) ftr_sq_is_light: Option<RAttrId>,
    pub(crate) ftr_sq_is_st_heavy: Option<RAttrId>,
    pub(crate) ftr_sq_is_st_light: Option<RAttrId>,
    pub(crate) ftr_sq_is_st_support: Option<RAttrId>,
    pub(crate) ftr_sq_is_support: Option<RAttrId>,
    pub(crate) ftr_sq_max_size: Option<RAttrId>,
    pub(crate) ftr_sq_size: Option<RAttrId>,
    pub(crate) ftr_st_heavy_slots: Option<RAttrId>,
    pub(crate) ftr_st_light_slots: Option<RAttrId>,
    pub(crate) ftr_st_support_slots: Option<RAttrId>,
    pub(crate) ftr_support_slots: Option<RAttrId>,
    pub(crate) ftr_tubes: Option<RAttrId>,
    pub(crate) gate_scramble_status: Option<RAttrId>,
    pub(crate) hi_slots: Option<RAttrId>,
    pub(crate) hisec_modifier: Option<RAttrId>,
    pub(crate) hp: Option<RAttrId>,
    pub(crate) implantness: Option<RAttrId>,
    pub(crate) kin_dmg: Option<RAttrId>,
    pub(crate) kin_dmg_resonance: Option<RAttrId>,
    pub(crate) launcher_group: Option<RAttrId>,
    pub(crate) launcher_group2: Option<RAttrId>,
    pub(crate) launcher_group3: Option<RAttrId>,
    pub(crate) launcher_group4: Option<RAttrId>,
    pub(crate) launcher_group5: Option<RAttrId>,
    pub(crate) launcher_group6: Option<RAttrId>,
    pub(crate) launcher_slots_left: Option<RAttrId>,
    pub(crate) low_slots: Option<RAttrId>,
    pub(crate) lowsec_modifier: Option<RAttrId>,
    pub(crate) mass: Option<RAttrId>,
    pub(crate) max_active_drones: Option<RAttrId>,
    pub(crate) max_directional_scan_range: Option<RAttrId>,
    pub(crate) max_fof_tgt_range: Option<RAttrId>,
    pub(crate) max_group_active: Option<RAttrId>,
    pub(crate) max_group_fitted: Option<RAttrId>,
    pub(crate) max_group_online: Option<RAttrId>,
    pub(crate) max_locked_targets: Option<RAttrId>,
    pub(crate) max_range: Option<RAttrId>,
    pub(crate) max_subsystems: Option<RAttrId>,
    pub(crate) max_target_range: Option<RAttrId>,
    pub(crate) max_type_fitted: Option<RAttrId>,
    pub(crate) max_velocity: Option<RAttrId>,
    pub(crate) med_slots: Option<RAttrId>,
    pub(crate) mining_amount: Option<RAttrId>,
    pub(crate) mining_crit_bonus_yield: Option<RAttrId>,
    pub(crate) mining_crit_chance: Option<RAttrId>,
    pub(crate) mining_waste_probability: Option<RAttrId>,
    pub(crate) mining_wasted_volume_mult: Option<RAttrId>,
    pub(crate) mod_reactivation_delay: Option<RAttrId>,
    pub(crate) nos_override: Option<RAttrId>,
    pub(crate) nullsec_modifier: Option<RAttrId>,
    pub(crate) online_max_security_class: Option<RAttrId>,
    pub(crate) optimal_sig_radius: Option<RAttrId>,
    pub(crate) pilot_security_status: Option<RAttrId>,
    pub(crate) power: Option<RAttrId>,
    pub(crate) power_output: Option<RAttrId>,
    pub(crate) power_transfer_amount: Option<RAttrId>,
    pub(crate) radius: Option<RAttrId>,
    pub(crate) recharge_rate: Option<RAttrId>,
    pub(crate) reload_time: Option<RAttrId>,
    pub(crate) remote_resist_id: Option<RAttrId>,
    pub(crate) required_thermodynamics_skill: Option<RAttrId>,
    pub(crate) resist_shift_amount: Option<RAttrId>,
    pub(crate) rig_size: Option<RAttrId>,
    pub(crate) scan_gravimetric_strength: Option<RAttrId>,
    pub(crate) scan_gravimetric_strength_bonus: Option<RAttrId>,
    pub(crate) scan_ladar_strength: Option<RAttrId>,
    pub(crate) scan_ladar_strength_bonus: Option<RAttrId>,
    pub(crate) scan_magnetometric_strength: Option<RAttrId>,
    pub(crate) scan_magnetometric_strength_bonus: Option<RAttrId>,
    pub(crate) scan_radar_strength: Option<RAttrId>,
    pub(crate) scan_radar_strength_bonus: Option<RAttrId>,
    pub(crate) scan_resolution: Option<RAttrId>,
    pub(crate) security_modifier: Option<RAttrId>,
    pub(crate) service_slots: Option<RAttrId>,
    pub(crate) shield_bonus: Option<RAttrId>,
    pub(crate) shield_capacity: Option<RAttrId>,
    pub(crate) shield_em_dmg_resonance: Option<RAttrId>,
    pub(crate) shield_expl_dmg_resonance: Option<RAttrId>,
    pub(crate) shield_kin_dmg_resonance: Option<RAttrId>,
    pub(crate) shield_recharge_rate: Option<RAttrId>,
    pub(crate) shield_therm_dmg_resonance: Option<RAttrId>,
    pub(crate) sig_radius: Option<RAttrId>,
    pub(crate) skill_level: Option<RAttrId>,
    pub(crate) speed_boost_factor: Option<RAttrId>,
    pub(crate) speed_factor: Option<RAttrId>,
    pub(crate) struct_dmg_amount: Option<RAttrId>,
    pub(crate) subsystem_slot: Option<RAttrId>,
    pub(crate) therm_dmg: Option<RAttrId>,
    pub(crate) therm_dmg_resonance: Option<RAttrId>,
    pub(crate) turret_slots_left: Option<RAttrId>,
    pub(crate) upgrade_capacity: Option<RAttrId>,
    pub(crate) upgrade_cost: Option<RAttrId>,
    pub(crate) upgrade_slots_left: Option<RAttrId>,
    pub(crate) volume: Option<RAttrId>,
    pub(crate) warp_capacitor_need: Option<RAttrId>,
    pub(crate) warp_scramble_status: Option<RAttrId>,
    pub(crate) warp_speed_mult: Option<RAttrId>,
    // Derived data
    pub(crate) limited_precision: Vec<RAttrId>,
    pub(crate) buff_merge_ids_strs: Vec<(RAttrId, RAttrId)>,
    pub(crate) buff_merge_ids: Vec<RAttrId>,
}
impl RAttrConsts {
    pub(in crate::rd) fn new(attr_aid_rid_map: &RMap<AAttrId, RAttrId>) -> Self {
        let limited_precision = AAttrId::LIMITED_PRECISION_ATTRS
            .iter()
            .filter_map(|aid| attr_aid_rid_map.get(aid).copied())
            .collect();
        let buff_merge_ids_strs = AAttrId::BUFF_MERGE_ATTRS
            .iter()
            .filter_map(|(buff_id_aid, buff_str_aid)| {
                match (attr_aid_rid_map.get(buff_id_aid), attr_aid_rid_map.get(buff_str_aid)) {
                    (Some(&buff_id_rid), Some(&buff_str_rid)) => Some((buff_id_rid, buff_str_rid)),
                    _ => None,
                }
            })
            .collect_vec();
        // Store buff ID attribute only if there is corresponding buff strength attribute
        let buff_merge_ids = buff_merge_ids_strs
            .iter()
            .map(|(buff_id_rid, _)| *buff_id_rid)
            .collect();
        Self {
            activation_blocked: attr_aid_rid_map.get(&AAttrId::ACTIVATION_BLOCKED).copied(),
            agility: attr_aid_rid_map.get(&AAttrId::AGILITY).copied(),
            allow_in_fully_corrupted_hisec: attr_aid_rid_map.get(&AAttrId::ALLOW_IN_FULLY_CORRUPTED_HISEC).copied(),
            allow_in_fully_corrupted_lowsec: attr_aid_rid_map.get(&AAttrId::ALLOW_IN_FULLY_CORRUPTED_LOWSEC).copied(),
            allowed_drone_group1: attr_aid_rid_map.get(&AAttrId::ALLOWED_DRONE_GROUP1).copied(),
            allowed_drone_group2: attr_aid_rid_map.get(&AAttrId::ALLOWED_DRONE_GROUP2).copied(),
            aoe_cloud_size: attr_aid_rid_map.get(&AAttrId::AOE_CLOUD_SIZE).copied(),
            aoe_dmg_reduction_factor: attr_aid_rid_map.get(&AAttrId::AOE_DMG_REDUCTION_FACTOR).copied(),
            aoe_velocity: attr_aid_rid_map.get(&AAttrId::AOE_VELOCITY).copied(),
            armor_dmg_amount: attr_aid_rid_map.get(&AAttrId::ARMOR_DMG_AMOUNT).copied(),
            armor_em_dmg_resonance: attr_aid_rid_map.get(&AAttrId::ARMOR_EM_DMG_RESONANCE).copied(),
            armor_expl_dmg_resonance: attr_aid_rid_map.get(&AAttrId::ARMOR_EXPL_DMG_RESONANCE).copied(),
            armor_hp: attr_aid_rid_map.get(&AAttrId::ARMOR_HP).copied(),
            armor_kin_dmg_resonance: attr_aid_rid_map.get(&AAttrId::ARMOR_KIN_DMG_RESONANCE).copied(),
            armor_therm_dmg_resonance: attr_aid_rid_map.get(&AAttrId::ARMOR_THERM_DMG_RESONANCE).copied(),
            boosterness: attr_aid_rid_map.get(&AAttrId::BOOSTERNESS).copied(),
            can_fit_ship_group1: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP1).copied(),
            can_fit_ship_group2: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP2).copied(),
            can_fit_ship_group3: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP3).copied(),
            can_fit_ship_group4: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP4).copied(),
            can_fit_ship_group5: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP5).copied(),
            can_fit_ship_group6: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP6).copied(),
            can_fit_ship_group7: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP7).copied(),
            can_fit_ship_group8: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP8).copied(),
            can_fit_ship_group9: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP9).copied(),
            can_fit_ship_group10: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP10).copied(),
            can_fit_ship_group11: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP11).copied(),
            can_fit_ship_group12: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP12).copied(),
            can_fit_ship_group13: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP13).copied(),
            can_fit_ship_group14: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP14).copied(),
            can_fit_ship_group15: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP15).copied(),
            can_fit_ship_group16: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP16).copied(),
            can_fit_ship_group17: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP17).copied(),
            can_fit_ship_group18: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP18).copied(),
            can_fit_ship_group19: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP19).copied(),
            can_fit_ship_group20: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_GROUP20).copied(),
            can_fit_ship_type1: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE1).copied(),
            can_fit_ship_type2: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE2).copied(),
            can_fit_ship_type3: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE3).copied(),
            can_fit_ship_type4: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE4).copied(),
            can_fit_ship_type5: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE5).copied(),
            can_fit_ship_type6: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE6).copied(),
            can_fit_ship_type7: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE7).copied(),
            can_fit_ship_type8: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE8).copied(),
            can_fit_ship_type9: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE9).copied(),
            can_fit_ship_type10: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE10).copied(),
            can_fit_ship_type11: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE11).copied(),
            can_fit_ship_type12: attr_aid_rid_map.get(&AAttrId::CAN_FIT_SHIP_TYPE12).copied(),
            capacitor_bonus: attr_aid_rid_map.get(&AAttrId::CAPACITOR_BONUS).copied(),
            capacitor_capacity: attr_aid_rid_map.get(&AAttrId::CAPACITOR_CAPACITY).copied(),
            capacity: attr_aid_rid_map.get(&AAttrId::CAPACITY).copied(),
            charge_group1: attr_aid_rid_map.get(&AAttrId::CHARGE_GROUP1).copied(),
            charge_group2: attr_aid_rid_map.get(&AAttrId::CHARGE_GROUP2).copied(),
            charge_group3: attr_aid_rid_map.get(&AAttrId::CHARGE_GROUP3).copied(),
            charge_group4: attr_aid_rid_map.get(&AAttrId::CHARGE_GROUP4).copied(),
            charge_group5: attr_aid_rid_map.get(&AAttrId::CHARGE_GROUP5).copied(),
            charge_rate: attr_aid_rid_map.get(&AAttrId::CHARGE_RATE).copied(),
            charge_size: attr_aid_rid_map.get(&AAttrId::CHARGE_SIZE).copied(),
            charged_armor_dmg_mult: attr_aid_rid_map.get(&AAttrId::CHARGED_ARMOR_DMG_MULT).copied(),
            cpu: attr_aid_rid_map.get(&AAttrId::CPU).copied(),
            cpu_output: attr_aid_rid_map.get(&AAttrId::CPU_OUTPUT).copied(),
            crystal_volatility_chance: attr_aid_rid_map.get(&AAttrId::CRYSTAL_VOLATILITY_CHANCE).copied(),
            crystal_volatility_dmg: attr_aid_rid_map.get(&AAttrId::CRYSTAL_VOLATILITY_DMG).copied(),
            crystals_get_damaged: attr_aid_rid_map.get(&AAttrId::CRYSTALS_GET_DAMAGED).copied(),
            disallow_assistance: attr_aid_rid_map.get(&AAttrId::DISALLOW_ASSISTANCE).copied(),
            disallow_docking: attr_aid_rid_map.get(&AAttrId::DISALLOW_DOCKING).copied(),
            disallow_drive_jumping: attr_aid_rid_map.get(&AAttrId::DISALLOW_DRIVE_JUMPING).copied(),
            disallow_in_empire_space: attr_aid_rid_map.get(&AAttrId::DISALLOW_IN_EMPIRE_SPACE).copied(),
            disallow_in_hazard: attr_aid_rid_map.get(&AAttrId::DISALLOW_IN_HAZARD).copied(),
            disallow_in_hisec: attr_aid_rid_map.get(&AAttrId::DISALLOW_IN_HISEC).copied(),
            disallow_offensive_modifiers: attr_aid_rid_map.get(&AAttrId::DISALLOW_OFFENSIVE_MODIFIERS).copied(),
            disallow_tethering: attr_aid_rid_map.get(&AAttrId::DISALLOW_TETHERING).copied(),
            disallow_vs_ew_immune_tgt: attr_aid_rid_map.get(&AAttrId::DISALLOW_VS_EW_IMMUNE_TGT).copied(),
            disallow_warping_jumping: attr_aid_rid_map.get(&AAttrId::DISALLOW_WARPING_JUMPING).copied(),
            dmg_delay_duration: attr_aid_rid_map.get(&AAttrId::DMG_DELAY_DURATION).copied(),
            dmg_mult: attr_aid_rid_map.get(&AAttrId::DMG_MULT).copied(),
            doomsday_aoe_duration: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_AOE_DURATION).copied(),
            doomsday_aoe_range: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_AOE_RANGE).copied(),
            doomsday_aoe_sig_radius: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_AOE_SIG_RADIUS).copied(),
            doomsday_dmg_cycle_time: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_DMG_CYCLE_TIME).copied(),
            doomsday_dmg_duration: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_DMG_DURATION).copied(),
            doomsday_energy_neut_amount: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_ENERGY_NEUT_AMOUNT).copied(),
            doomsday_energy_neut_radius: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_ENERGY_NEUT_RADIUS).copied(),
            doomsday_energy_neut_sig_radius: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_ENERGY_NEUT_SIG_RADIUS).copied(),
            doomsday_warning_duration: attr_aid_rid_map.get(&AAttrId::DOOMSDAY_WARNING_DURATION).copied(),
            dot_duration: attr_aid_rid_map.get(&AAttrId::DOT_DURATION).copied(),
            dot_max_dmg_per_tick: attr_aid_rid_map.get(&AAttrId::DOT_MAX_DMG_PER_TICK).copied(),
            dot_max_hp_perc_per_tick: attr_aid_rid_map.get(&AAttrId::DOT_MAX_HP_PERC_PER_TICK).copied(),
            drone_bandwidth: attr_aid_rid_map.get(&AAttrId::DRONE_BANDWIDTH).copied(),
            drone_bandwidth_used: attr_aid_rid_map.get(&AAttrId::DRONE_BANDWIDTH_USED).copied(),
            drone_capacity: attr_aid_rid_map.get(&AAttrId::DRONE_CAPACITY).copied(),
            drone_control_distance: attr_aid_rid_map.get(&AAttrId::DRONE_CONTROL_DISTANCE).copied(),
            ecm_jam_duration: attr_aid_rid_map.get(&AAttrId::ECM_JAM_DURATION).copied(),
            em_dmg: attr_aid_rid_map.get(&AAttrId::EM_DMG).copied(),
            em_dmg_resonance: attr_aid_rid_map.get(&AAttrId::EM_DMG_RESONANCE).copied(),
            emp_field_range: attr_aid_rid_map.get(&AAttrId::EMP_FIELD_RANGE).copied(),
            energy_neut_amount: attr_aid_rid_map.get(&AAttrId::ENERGY_NEUT_AMOUNT).copied(),
            energy_neut_sig_resolution: attr_aid_rid_map.get(&AAttrId::ENERGY_NEUT_SIG_RESOLUTION).copied(),
            energy_warfare_resist: attr_aid_rid_map.get(&AAttrId::ENERGY_WARFARE_RESIST).copied(),
            entity_cruise_speed: attr_aid_rid_map.get(&AAttrId::ENTITY_CRUISE_SPEED).copied(),
            entity_max_velocity_sig_radius_mult: attr_aid_rid_map
                .get(&AAttrId::ENTITY_MAX_VELOCITY_SIG_RADIUS_MULT)
                .copied(),
            expl_dmg: attr_aid_rid_map.get(&AAttrId::EXPL_DMG).copied(),
            expl_dmg_resonance: attr_aid_rid_map.get(&AAttrId::EXPL_DMG_RESONANCE).copied(),
            explosion_delay: attr_aid_rid_map.get(&AAttrId::EXPLOSION_DELAY).copied(),
            fits_to_ship_type: attr_aid_rid_map.get(&AAttrId::FITS_TO_SHIP_TYPE).copied(),
            ftr_capacity: attr_aid_rid_map.get(&AAttrId::FTR_CAPACITY).copied(),
            ftr_heavy_slots: attr_aid_rid_map.get(&AAttrId::FTR_HEAVY_SLOTS).copied(),
            ftr_light_slots: attr_aid_rid_map.get(&AAttrId::FTR_LIGHT_SLOTS).copied(),
            ftr_refueling_time: attr_aid_rid_map.get(&AAttrId::FTR_REFUELING_TIME).copied(),
            ftr_sq_is_heavy: attr_aid_rid_map.get(&AAttrId::FTR_SQ_IS_HEAVY).copied(),
            ftr_sq_is_light: attr_aid_rid_map.get(&AAttrId::FTR_SQ_IS_LIGHT).copied(),
            ftr_sq_is_st_heavy: attr_aid_rid_map.get(&AAttrId::FTR_SQ_IS_ST_HEAVY).copied(),
            ftr_sq_is_st_light: attr_aid_rid_map.get(&AAttrId::FTR_SQ_IS_ST_LIGHT).copied(),
            ftr_sq_is_st_support: attr_aid_rid_map.get(&AAttrId::FTR_SQ_IS_ST_SUPPORT).copied(),
            ftr_sq_is_support: attr_aid_rid_map.get(&AAttrId::FTR_SQ_IS_SUPPORT).copied(),
            ftr_sq_max_size: attr_aid_rid_map.get(&AAttrId::FTR_SQ_MAX_SIZE).copied(),
            ftr_sq_size: attr_aid_rid_map.get(&AAttrId::FTR_SQ_SIZE).copied(),
            ftr_st_heavy_slots: attr_aid_rid_map.get(&AAttrId::FTR_ST_HEAVY_SLOTS).copied(),
            ftr_st_light_slots: attr_aid_rid_map.get(&AAttrId::FTR_ST_LIGHT_SLOTS).copied(),
            ftr_st_support_slots: attr_aid_rid_map.get(&AAttrId::FTR_ST_SUPPORT_SLOTS).copied(),
            ftr_support_slots: attr_aid_rid_map.get(&AAttrId::FTR_SUPPORT_SLOTS).copied(),
            ftr_tubes: attr_aid_rid_map.get(&AAttrId::FTR_TUBES).copied(),
            gate_scramble_status: attr_aid_rid_map.get(&AAttrId::GATE_SCRAMBLE_STATUS).copied(),
            hi_slots: attr_aid_rid_map.get(&AAttrId::HI_SLOTS).copied(),
            hisec_modifier: attr_aid_rid_map.get(&AAttrId::HISEC_MODIFIER).copied(),
            hp: attr_aid_rid_map.get(&AAttrId::HP).copied(),
            implantness: attr_aid_rid_map.get(&AAttrId::IMPLANTNESS).copied(),
            kin_dmg: attr_aid_rid_map.get(&AAttrId::KIN_DMG).copied(),
            kin_dmg_resonance: attr_aid_rid_map.get(&AAttrId::KIN_DMG_RESONANCE).copied(),
            launcher_group: attr_aid_rid_map.get(&AAttrId::LAUNCHER_GROUP).copied(),
            launcher_group2: attr_aid_rid_map.get(&AAttrId::LAUNCHER_GROUP2).copied(),
            launcher_group3: attr_aid_rid_map.get(&AAttrId::LAUNCHER_GROUP3).copied(),
            launcher_group4: attr_aid_rid_map.get(&AAttrId::LAUNCHER_GROUP4).copied(),
            launcher_group5: attr_aid_rid_map.get(&AAttrId::LAUNCHER_GROUP5).copied(),
            launcher_group6: attr_aid_rid_map.get(&AAttrId::LAUNCHER_GROUP6).copied(),
            launcher_slots_left: attr_aid_rid_map.get(&AAttrId::LAUNCHER_SLOTS_LEFT).copied(),
            low_slots: attr_aid_rid_map.get(&AAttrId::LOW_SLOTS).copied(),
            lowsec_modifier: attr_aid_rid_map.get(&AAttrId::LOWSEC_MODIFIER).copied(),
            mass: attr_aid_rid_map.get(&AAttrId::MASS).copied(),
            max_active_drones: attr_aid_rid_map.get(&AAttrId::MAX_ACTIVE_DRONES).copied(),
            max_directional_scan_range: attr_aid_rid_map.get(&AAttrId::MAX_DIRECTIONAL_SCAN_RANGE).copied(),
            max_fof_tgt_range: attr_aid_rid_map.get(&AAttrId::MAX_FOF_TGT_RANGE).copied(),
            max_group_active: attr_aid_rid_map.get(&AAttrId::MAX_GROUP_ACTIVE).copied(),
            max_group_fitted: attr_aid_rid_map.get(&AAttrId::MAX_GROUP_FITTED).copied(),
            max_group_online: attr_aid_rid_map.get(&AAttrId::MAX_GROUP_ONLINE).copied(),
            max_locked_targets: attr_aid_rid_map.get(&AAttrId::MAX_LOCKED_TARGETS).copied(),
            max_range: attr_aid_rid_map.get(&AAttrId::MAX_RANGE).copied(),
            max_subsystems: attr_aid_rid_map.get(&AAttrId::MAX_SUBSYSTEMS).copied(),
            max_target_range: attr_aid_rid_map.get(&AAttrId::MAX_TARGET_RANGE).copied(),
            max_type_fitted: attr_aid_rid_map.get(&AAttrId::MAX_TYPE_FITTED).copied(),
            max_velocity: attr_aid_rid_map.get(&AAttrId::MAX_VELOCITY).copied(),
            med_slots: attr_aid_rid_map.get(&AAttrId::MED_SLOTS).copied(),
            mining_amount: attr_aid_rid_map.get(&AAttrId::MINING_AMOUNT).copied(),
            mining_crit_bonus_yield: attr_aid_rid_map.get(&AAttrId::MINING_CRIT_BONUS_YIELD).copied(),
            mining_crit_chance: attr_aid_rid_map.get(&AAttrId::MINING_CRIT_CHANCE).copied(),
            mining_waste_probability: attr_aid_rid_map.get(&AAttrId::MINING_WASTE_PROBABILITY).copied(),
            mining_wasted_volume_mult: attr_aid_rid_map.get(&AAttrId::MINING_WASTED_VOLUME_MULT).copied(),
            mod_reactivation_delay: attr_aid_rid_map.get(&AAttrId::MOD_REACTIVATION_DELAY).copied(),
            nos_override: attr_aid_rid_map.get(&AAttrId::NOS_OVERRIDE).copied(),
            nullsec_modifier: attr_aid_rid_map.get(&AAttrId::NULLSEC_MODIFIER).copied(),
            online_max_security_class: attr_aid_rid_map.get(&AAttrId::ONLINE_MAX_SECURITY_CLASS).copied(),
            optimal_sig_radius: attr_aid_rid_map.get(&AAttrId::OPTIMAL_SIG_RADIUS).copied(),
            pilot_security_status: attr_aid_rid_map.get(&AAttrId::PILOT_SECURITY_STATUS).copied(),
            power: attr_aid_rid_map.get(&AAttrId::POWER).copied(),
            power_output: attr_aid_rid_map.get(&AAttrId::POWER_OUTPUT).copied(),
            power_transfer_amount: attr_aid_rid_map.get(&AAttrId::POWER_TRANSFER_AMOUNT).copied(),
            radius: attr_aid_rid_map.get(&AAttrId::RADIUS).copied(),
            recharge_rate: attr_aid_rid_map.get(&AAttrId::RECHARGE_RATE).copied(),
            reload_time: attr_aid_rid_map.get(&AAttrId::RELOAD_TIME).copied(),
            remote_resist_id: attr_aid_rid_map.get(&AAttrId::REMOTE_RESIST_ID).copied(),
            required_thermodynamics_skill: attr_aid_rid_map.get(&AAttrId::REQUIRED_THERMODYNAMICS_SKILL).copied(),
            resist_shift_amount: attr_aid_rid_map.get(&AAttrId::RESIST_SHIFT_AMOUNT).copied(),
            rig_size: attr_aid_rid_map.get(&AAttrId::RIG_SIZE).copied(),
            scan_gravimetric_strength: attr_aid_rid_map.get(&AAttrId::SCAN_GRAVIMETRIC_STRENGTH).copied(),
            scan_gravimetric_strength_bonus: attr_aid_rid_map.get(&AAttrId::SCAN_GRAVIMETRIC_STRENGTH_BONUS).copied(),
            scan_ladar_strength: attr_aid_rid_map.get(&AAttrId::SCAN_LADAR_STRENGTH).copied(),
            scan_ladar_strength_bonus: attr_aid_rid_map.get(&AAttrId::SCAN_LADAR_STRENGTH_BONUS).copied(),
            scan_magnetometric_strength: attr_aid_rid_map.get(&AAttrId::SCAN_MAGNETOMETRIC_STRENGTH).copied(),
            scan_magnetometric_strength_bonus: attr_aid_rid_map
                .get(&AAttrId::SCAN_MAGNETOMETRIC_STRENGTH_BONUS)
                .copied(),
            scan_radar_strength: attr_aid_rid_map.get(&AAttrId::SCAN_RADAR_STRENGTH).copied(),
            scan_radar_strength_bonus: attr_aid_rid_map.get(&AAttrId::SCAN_RADAR_STRENGTH_BONUS).copied(),
            scan_resolution: attr_aid_rid_map.get(&AAttrId::SCAN_RESOLUTION).copied(),
            security_modifier: attr_aid_rid_map.get(&AAttrId::SECURITY_MODIFIER).copied(),
            service_slots: attr_aid_rid_map.get(&AAttrId::SERVICE_SLOTS).copied(),
            shield_bonus: attr_aid_rid_map.get(&AAttrId::SHIELD_BONUS).copied(),
            shield_capacity: attr_aid_rid_map.get(&AAttrId::SHIELD_CAPACITY).copied(),
            shield_em_dmg_resonance: attr_aid_rid_map.get(&AAttrId::SHIELD_EM_DMG_RESONANCE).copied(),
            shield_expl_dmg_resonance: attr_aid_rid_map.get(&AAttrId::SHIELD_EXPL_DMG_RESONANCE).copied(),
            shield_kin_dmg_resonance: attr_aid_rid_map.get(&AAttrId::SHIELD_KIN_DMG_RESONANCE).copied(),
            shield_recharge_rate: attr_aid_rid_map.get(&AAttrId::SHIELD_RECHARGE_RATE).copied(),
            shield_therm_dmg_resonance: attr_aid_rid_map.get(&AAttrId::SHIELD_THERM_DMG_RESONANCE).copied(),
            sig_radius: attr_aid_rid_map.get(&AAttrId::SIG_RADIUS).copied(),
            skill_level: attr_aid_rid_map.get(&AAttrId::SKILL_LEVEL).copied(),
            speed_boost_factor: attr_aid_rid_map.get(&AAttrId::SPEED_BOOST_FACTOR).copied(),
            speed_factor: attr_aid_rid_map.get(&AAttrId::SPEED_FACTOR).copied(),
            struct_dmg_amount: attr_aid_rid_map.get(&AAttrId::STRUCT_DMG_AMOUNT).copied(),
            subsystem_slot: attr_aid_rid_map.get(&AAttrId::SUBSYSTEM_SLOT).copied(),
            therm_dmg: attr_aid_rid_map.get(&AAttrId::THERM_DMG).copied(),
            therm_dmg_resonance: attr_aid_rid_map.get(&AAttrId::THERM_DMG_RESONANCE).copied(),
            turret_slots_left: attr_aid_rid_map.get(&AAttrId::TURRET_SLOTS_LEFT).copied(),
            upgrade_capacity: attr_aid_rid_map.get(&AAttrId::UPGRADE_CAPACITY).copied(),
            upgrade_cost: attr_aid_rid_map.get(&AAttrId::UPGRADE_COST).copied(),
            upgrade_slots_left: attr_aid_rid_map.get(&AAttrId::UPGRADE_SLOTS_LEFT).copied(),
            volume: attr_aid_rid_map.get(&AAttrId::VOLUME).copied(),
            warp_capacitor_need: attr_aid_rid_map.get(&AAttrId::WARP_CAPACITOR_NEED).copied(),
            warp_scramble_status: attr_aid_rid_map.get(&AAttrId::WARP_SCRAMBLE_STATUS).copied(),
            warp_speed_mult: attr_aid_rid_map.get(&AAttrId::WARP_SPEED_MULT).copied(),
            // Derived data
            limited_precision,
            buff_merge_ids_strs,
            buff_merge_ids,
        }
    }
}
